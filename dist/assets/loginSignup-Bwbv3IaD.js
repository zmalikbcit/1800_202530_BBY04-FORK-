import{l as w,a as p,s as L}from"./bootstrap.esm-DCaPJYDw.js";function S(){const i=document.getElementById("authAlert"),a=document.getElementById("loginView"),c=document.getElementById("signupView"),E=document.getElementById("toSignup"),v=document.getElementById("toLogin"),d=document.getElementById("loginForm"),m=document.getElementById("signupForm"),f="main.html";function s(e,t){e?.classList.toggle("d-none",!t)}let g;function l(e){i.textContent=e||"",i.classList.remove("d-none"),clearTimeout(g),g=setTimeout(o,5e3)}function o(){i.classList.add("d-none"),i.textContent="",clearTimeout(g)}function u(e,t){const n=e?.querySelector('[type="submit"]');n&&(n.disabled=!!t)}E?.addEventListener("click",e=>{e.preventDefault(),o(),s(a,!1),s(c,!0),c?.querySelector("input")?.focus()}),v?.addEventListener("click",e=>{e.preventDefault(),o(),s(c,!1),s(a,!0),a?.querySelector("input")?.focus()}),d?.addEventListener("submit",async e=>{e.preventDefault(),o();const t=document.querySelector("#loginEmail")?.value?.trim()??"",n=document.querySelector("#loginPassword")?.value??"";if(!t||!n){l("Please enter your email and password.");return}u(d,!0);try{await w(t,n),location.href=f}catch(r){console.error(r),l(p(r))}finally{u(d,!1)}}),m?.addEventListener("submit",async e=>{e.preventDefault(),o();const t=document.querySelector("#signupName")?.value?.trim()??"",n=document.querySelector("#signupEmail")?.value?.trim()??"",r=document.querySelector("#signupPassword")?.value??"";if(!t||!n||!r){l("Please fill in name, email, and password.");return}u(m,!0);try{await L(t,n,r),location.href=f}catch(y){console.error(y),l(p(y))}finally{u(m,!1)}})}document.addEventListener("DOMContentLoaded",S);
